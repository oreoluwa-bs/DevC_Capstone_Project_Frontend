(this.webpackJsonpdevc_capstone_project_frontend=this.webpackJsonpdevc_capstone_project_frontend||[]).push([[0],{30:function(e,t,a){},31:function(e,t,a){},35:function(e,t,a){e.exports=a(53)},40:function(e,t,a){},41:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(22),s=a.n(r),o=(a(40),a(41),a(18)),c=a(4),l=a(2),m=(a(30),Object(l.b)(null,(function(e){return{signOut:function(){return e({type:"SIGNOUT_SUCCESS"})}}}))((function(e){return i.a.createElement("ul",{className:"nav-links float-md-right"},i.a.createElement("li",{className:"nav-item nav-btn"},i.a.createElement("button",{onClick:function(){e.signOut()},className:"btn-sm"},"Logout")))}))),u=Object(l.b)((function(e){return{auth:e.auth.auth}}))((function(e){var t=e.auth.token?i.a.createElement(m,null):i.a.createElement(d,null);return i.a.createElement("nav",{className:"navbar"},i.a.createElement("div",{className:"container"},i.a.createElement("ul",{className:"nav-links float-md-left"},i.a.createElement("li",{className:"nav-item nav-brand"},i.a.createElement(c.b,{to:"/dashboard/",className:"nav-link"},"Teamwork"))),t))})),d=function(){return null},p=a(10),h=a(5),E=a(6),f=a(8),b=a(7),g=a(9),v="https://rocky-waters-58005.herokuapp.com/api/v1/",y=(a(31),function(e){return i.a.createElement("div",{style:{visibility:e.isVisible?"visible":"hidden"},className:"notification notification-".concat(e.notification.status)},i.a.createElement("p",{className:"x-s"},e.notification.message))}),C=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={email:"",password:"",isVisible:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state),a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3)},a.handleTextChange=function(e){a.setState(Object(p.a)({},e.target.id,e.target.value))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.props.auth.token?i.a.createElement(o.a,{to:"/dashboard/"}):i.a.createElement("div",{className:"container login-container"},i.a.createElement(y,{isVisible:this.state.isVisible,notification:this.props.notification}),i.a.createElement("div",{className:"form"},i.a.createElement("h4",{className:"text-center"},"Login"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Email Address:"),i.a.createElement("input",{type:"text",className:"form-input",id:"email",placeholder:"john.doe@gmail.com",value:this.state.email,onChange:this.handleTextChange,autoFocus:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Password:"),i.a.createElement("input",{type:"password",className:"form-input",id:"password",value:this.state.password,onChange:this.handleTextChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement(c.b,{to:"/signup"},"Do not have an account?")),i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement("button",{type:"submit",className:"btn btn-primary float-md-right"},"Login")))))))}}]),t}(n.Component),N=Object(l.b)((function(e){return{notification:e.auth.notification,auth:e.auth.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t){var n=new Request("".concat(v+"auth","/signin"),{method:"POST",body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json"})});fetch(n).then((function(t){t.json().then((function(t){"error"===t.status?e({type:"LOGIN_FAILED",data:t}):(sessionStorage.setItem("userId",t.data.userId),sessionStorage.setItem("userToken",t.data.token),e({type:"LOGIN_SUCCESS",data:t}))})).catch((function(t){e({type:"LOGIN_FAILED",data:t})}))})).catch((function(t){e({type:"LOGIN_FAILED",data:t})}))}));var a}}}))(C),O=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={gender:"Male",isVisible:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state),a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3)},a.handleTextChange=function(e){a.setState(Object(p.a)({},e.target.id,e.target.value))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.userId?i.a.createElement(o.a,{to:"/dashboard/"}):i.a.createElement("div",{className:"container login-container signup-container"},i.a.createElement(y,{isVisible:this.state.isVisible,notification:this.props.notification}),i.a.createElement("div",{className:"form"},i.a.createElement("h4",{className:"text-center"},"Create an account"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement("p",null,"First name:"),i.a.createElement("input",{type:"text",className:"form-input",id:"firstname",placeholder:"John",onChange:this.handleTextChange,required:!0})),i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement("p",null,"Last name:"),i.a.createElement("input",{type:"text",className:"form-input",id:"lastname",placeholder:"Doe",onChange:this.handleTextChange,required:!0})))),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement("p",null,"Department:"),i.a.createElement("input",{type:"text",className:"form-input",id:"department",placeholder:"Accounting",onChange:this.handleTextChange,required:!0})),i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement("p",null,"Job role:"),i.a.createElement("input",{type:"text",className:"form-input",id:"jobrole",placeholder:"Manager",onChange:this.handleTextChange,required:!0})))),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-8"},i.a.createElement("p",null,"Address:"),i.a.createElement("input",{type:"text",className:"form-input",id:"address",placeholder:"64th King Street Wisconsin",onChange:this.handleTextChange,required:!0})),i.a.createElement("div",{className:"col-xs-12 col-sm-4 "},i.a.createElement("p",null,"Gender:"),i.a.createElement("select",{className:"form-input",value:this.state.gender,id:"gender",onChange:this.handleTextChange},i.a.createElement("option",{value:"Male"},"Male"),i.a.createElement("option",{value:"Female"},"Female"),i.a.createElement("option",{value:"Other"},"Other"))))),i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Email Address:"),i.a.createElement("input",{type:"email",className:"form-input",id:"email",placeholder:"john.doe@gmail.com",onChange:this.handleTextChange,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Password:"),i.a.createElement("input",{type:"password",className:"form-input",id:"password",onChange:this.handleTextChange,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement(c.b,{to:"/login"},"Already have an account?")),i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement("button",{type:"submit",className:"btn btn-primary float-md-right"},"Sign Up")))),i.a.createElement("div",{className:"center red-text"},t?i.a.createElement("p",null,t):null))))}}]),t}(n.Component),S=Object(l.b)((function(e){return{notification:e.auth.notification,auth:e.auth.auth}}),(function(e){return{signUp:function(t){return e((a=t,function(e,t){var n=new Request("".concat(v+"auth","/create-user"),{method:"POST",body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json"})});fetch(n).then((function(t){t.json().then((function(t){"error"===t.status?e({type:"SIGNUP_FAILED",data:t}):e({type:"SIGNUP_SUCCESS",data:t})})).catch((function(t){e({type:"SIGNUP_FAILED",data:t})}))})).catch((function(t){e({type:"SIGNUP_FAILED",data:t})}))}));var a}}}))(O),I=function(){return i.a.createElement("nav",{className:"navbar"},i.a.createElement("div",{className:"container"},i.a.createElement("ul",{className:"nav-links float-md-left"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(c.b,{to:"/",className:"nav-link"},"Teamwork"))),i.a.createElement("ul",{className:"nav-links float-md-right"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("p",{className:"x-s"},"2019  Oreoluwa Bimbo-Salami")))))},T=a(12),j=a(13),_=function(){return i.a.createElement("div",{className:"dashboard-tabbar"},i.a.createElement("div",{className:"nav"},i.a.createElement("ul",{className:"nav-links"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(c.c,{exact:!0,to:"/dashboard/",className:"nav-link",activeClassName:"activeRoute"},i.a.createElement(T.a,{icon:j.b,size:"2x"}),i.a.createElement("span",null,"My feed"))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(c.c,{to:"/dashboard/post-article",className:"nav-link",activeClassName:"activeRoute"},i.a.createElement(T.a,{icon:j.e,size:"2x"}),i.a.createElement("span",null,"Post an article"))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(c.c,{to:"/dashboard/post-gif",className:"nav-link",activeClassName:"activeRoute"},i.a.createElement(T.a,{icon:j.c,size:"2x"}),i.a.createElement("span",null,"Post a gif"))))))},A=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={comment:""},a.handleTextChange=function(e){a.setState(Object(p.a)({},e.target.id,e.target.value))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.commentState,n=t.handleCommentPost,r=t.postId;return i.a.createElement("div",null,i.a.createElement("form",{style:{display:a},onSubmit:function(t){t.preventDefault(),n(r,e.state.comment),e.setState({comment:""})}},i.a.createElement("textarea",{className:"form-input",id:"comment",value:this.state.comment,onChange:this.handleTextChange,required:!0}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("button",{className:"btn btn-primary float-right"},"Comment")))))}}]),t}(n.Component),D=function(e,t){return function(a,n){var i=new Request("".concat(v+"articles","/").concat(e,"/comment"),{method:"POST",body:JSON.stringify({comment:t}),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});fetch(i).then((function(e){e.json().then((function(e){"error"===e.status?a({type:"COMMENT_ARTICLE_FAILED",data:e}):a({type:"COMMENT_ARTICLE_SUCCESS",data:e})})).catch((function(e){a({type:"COMMENT_ARTICLE_FAILED",data:e})}))})).catch((function(e){a({type:"COMMENT_ARTICLE_FAILED",data:e})}))}},L=function(e){return function(t,a){var n=new Request("".concat(v+"articles","/").concat(e),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});fetch(n).then((function(e){e.json().then((function(e){"error"===e.status?t({type:"GET_ARTICLE_FAILED",data:e}):t({type:"GET_ARTICLE_SUCCESS",data:e})})).catch((function(e){t({type:"GET_ARTICLE_FAILED",data:e})}))})).catch((function(e){t({type:"GET_ARTICLE_FAILED",data:e})}))}},w=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={commentIsHidden:!1,isVisible:!1},a.toggleCommentContainer=function(){a.setState({commentIsHidden:!a.state.commentIsHidden})},a.handleCommentPost=function(e,t){a.props.commentPost(e,t),a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3)},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e="none",t="none";this.state.commentIsHidden&&(e="block");var a=this.props,n=a.id,r=a.title,s=a.article,o=a.authorName,l=s;return s.length>320&&(t="block",l=s.split("",320).join("")),i.a.createElement("div",{className:"post post-small"},i.a.createElement(c.b,{to:"/dashboard/article/".concat(n),className:"post-title"},i.a.createElement("p",{className:"bold large"},r)),i.a.createElement("div",{className:"post-content"},i.a.createElement("p",null,l),i.a.createElement(c.b,{to:"/dashboard/article/".concat(n),style:{display:t},className:"readmore-link"},"...Read more"),i.a.createElement("div",{className:"post-tools"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-6"},i.a.createElement("p",{className:"x-s post-author"},"By ",o)),i.a.createElement("div",{className:"col-xs-6"},i.a.createElement(T.a,{className:"float-right f-icon",icon:j.a,onClick:this.toggleCommentContainer})))),i.a.createElement(A,{postId:n,commentState:e,handleCommentPost:this.handleCommentPost}),i.a.createElement(y,{isVisible:this.state.isVisible,notification:this.props.notification})))}}]),t}(n.Component),F=Object(l.b)((function(e){return{notification:e.article.notification}}),(function(e){return{commentPost:function(t,a){return e(D(t,a))}}}))(w),x=function(e,t){return function(a,n){var i=new Request("".concat(v+"gifs","/").concat(e,"/comment"),{method:"POST",body:JSON.stringify({comment:t}),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});fetch(i).then((function(e){e.json().then((function(e){"error"===e.status?a({type:"COMMENT_GIF_FAILED",data:e}):a({type:"COMMENT_GIF_SUCCESS",data:e})})).catch((function(e){a({type:"COMMENT_GIF_FAILED",data:e})}))})).catch((function(e){a({type:"COMMENT_GIF_FAILED",data:e})}))}},P=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={commentIsHidden:!1,isVisible:!1},a.toggleCommentContainer=function(){a.setState({commentIsHidden:!a.state.commentIsHidden})},a.handleCommentPost=function(e,t){a.props.commentPost(e,t),a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3)},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e="none";this.state.commentIsHidden&&(e="block");var t=this.props,a=t.id,n=t.title,r=t.imageUrl,s=t.authorName;return i.a.createElement("div",{className:"post"},i.a.createElement(c.b,{to:"/dashboard/gif/".concat(a),className:"post-title"},i.a.createElement("p",{className:"bold large"},n)),i.a.createElement("div",{className:"post-content"},i.a.createElement("div",{className:"ima"},i.a.createElement("img",{src:r,alt:"title-img",className:"post-img"})),i.a.createElement("div",{className:"post-tools"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-6"},i.a.createElement("p",{className:"x-s post-author"},"By ",s)),i.a.createElement("div",{className:"col-xs-6"},i.a.createElement(T.a,{className:"float-right f-icon",icon:j.a,onClick:this.toggleCommentContainer})))),i.a.createElement(A,{postId:a,commentState:e,handleCommentPost:this.handleCommentPost}),i.a.createElement(y,{isVisible:this.state.isVisible,notification:this.props.notification})))}}]),t}(n.Component),k=Object(l.b)((function(e){return{notification:e.gif.notification}}),(function(e){return{commentPost:function(t,a){return e(x(t,a))}}}))(P),V=(a(50),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.getFeed()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.getFeed(),!0}},{key:"render",value:function(){var e=this.props.posts;return i.a.createElement("div",{className:"feed-container"},i.a.createElement("h5",null,"My Feed"),i.a.createElement("br",null),e.map((function(e){return e.imageUrl?i.a.createElement(k,{key:e.id,id:e.id,title:e.title,imageUrl:e.imageUrl,authorId:e.authorId,authorName:e.authorName}):i.a.createElement(F,{key:e.id,id:e.id,title:e.title,article:e.article,authorId:e.authorId,authorName:e.authorName})})))}}]),t}(n.Component)),G=Object(l.b)((function(e){return{posts:e.feed.posts}}),(function(e){return{getFeed:function(){return e((function(e,t){var a=new Request("".concat(v+"feed"),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});fetch(a).then((function(t){t.json().then((function(t){"error"===t.status?e({type:"GET_FEED_FAILED",data:t}):e({type:"GET_FEED_SUCCESS",data:t})})).catch((function(t){e({type:"GET_FEED_FAILED",data:t})}))})).catch((function(t){e({type:"GET_FEED_FAILED",data:t})}))}))}}}))(V),R=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={isVisible:!1},a.handleCommentPost=function(e,t){a.props.commentPost(e,t),a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3)},a.handleDeletePost=function(){a.props.deletArticle(a.props.id),setTimeout((function(){a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3)}),200),a.props.history.push("/dashboard/")},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.getArticle(this.props.id)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.getArticle(this.props.id),!0}},{key:"render",value:function(){var e=this.props.post,t=e.id,a=e.title,n=e.article,r=e.authorName,s=e.comments,o=e.authorId;return i.a.createElement("div",{className:"feed-container"},i.a.createElement(y,{isVisible:this.state.isVisible,notification:this.props.notification}),i.a.createElement("div",{className:"post"},i.a.createElement("p",{className:"bold large post-title"},a),i.a.createElement("div",{className:"post-content"},i.a.createElement("p",null,n),i.a.createElement("div",{className:"post-tools"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-6"},i.a.createElement("p",{className:"x-s post-author"},"By ",r)),i.a.createElement("div",{className:"col-xs-6"},this.props.auth.userId==o&&i.a.createElement("span",null,i.a.createElement(c.b,{to:"/dashboard/article/edit/".concat(t)},i.a.createElement(T.a,{className:"float-right f-icon del-icon",icon:j.d})),i.a.createElement(T.a,{className:"float-right f-icon",icon:j.f,onClick:this.handleDeletePost}))))),i.a.createElement(A,{postId:t,commentState:!0,handleCommentPost:this.handleCommentPost})),i.a.createElement("p",null,"Comments :"),s.map((function(e){return i.a.createElement("div",{className:"post",key:e.id},i.a.createElement("div",{className:"post-content"},i.a.createElement("p",null,e.comment),i.a.createElement("p",{className:"x-s post-author"},"By ",e.authorName)))}))))}}]),t}(n.Component),U=Object(l.b)((function(e,t){return{auth:e.auth.auth,id:t.match.params.id,post:e.article.post,notification:e.article.notification}}),(function(e){return{deletArticle:function(t){return e((a=t,function(e,t){var n=new Request("".concat(v+"articles","/").concat(a),{method:"DELETE",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});fetch(n).then((function(t){t.json().then((function(t){"error"===t.status?e({type:"DELETE_ARTICLE_FAILED",data:t}):e({type:"DELETE_ARTICLE_SUCCESS",data:t})})).catch((function(t){e({type:"DELETE_ARTICLE_FAILED",data:t})}))})).catch((function(t){e({type:"DELETE_ARTICLE_FAILED",data:t})}))}));var a},getArticle:function(t){return e(L(t))},commentPost:function(t,a){return e(D(t,a))}}}))(R),M=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={isVisible:!1},a.handleCommentPost=function(e,t){a.props.commentPost(e,t),a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3)},a.handleDeletePost=function(){a.props.deletArticle(a.props.id)},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.getGif(this.props.id)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.getGif(this.props.id),!0}},{key:"render",value:function(){var e=this.props.post,t=e.id,a=e.title,n=e.imageUrl,r=e.authorName,s=e.comments,o=e.authorId;return i.a.createElement("div",{className:"feed-container"},i.a.createElement("div",{className:"post"},i.a.createElement("p",{className:"bold large post-title"},a),i.a.createElement("div",{className:"post-content"},i.a.createElement("div",{className:"ima"},i.a.createElement("img",{src:n,alt:"title-img",className:"post-img"})),i.a.createElement("div",{className:"post-tools"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-6"},i.a.createElement("p",{className:"x-s post-author"},"By ",r)),i.a.createElement("div",{className:"col-xs-6"},this.props.auth.userId==o&&i.a.createElement("span",null,i.a.createElement(T.a,{className:"float-right f-icon",icon:j.f,onClick:this.handleDeletePost}))))),i.a.createElement(A,{postId:t,commentState:!0,handleCommentPost:this.handleCommentPost}),i.a.createElement(y,{isVisible:this.state.isVisible,notification:this.props.notification})),i.a.createElement("p",null,"Comments :"),s.map((function(e){return i.a.createElement("div",{className:"post",key:e.id},i.a.createElement("div",{className:"post-content"},i.a.createElement("p",null,e.comment),i.a.createElement("p",{className:"x-s post-author"},"By ",e.authorName)))}))))}}]),t}(n.Component),H=Object(l.b)((function(e,t){return{auth:e.auth.auth,id:t.match.params.id,post:e.gif.post,notification:e.gif.notification}}),(function(e){return{deletArticle:function(t){return e((a=t,function(e,t){var n=new Request("".concat(v+"gifs","/").concat(a),{method:"DELETE",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});fetch(n).then((function(t){t.json().then((function(t){"error"===t.status?e({type:"DELETE_GIF_FAILED",data:t}):e({type:"DELETE_GIF_SUCCESS",data:t})})).catch((function(t){e({type:"DELETE_GIF_FAILED",data:t})}))})).catch((function(t){e({type:"DELETE_GIF_FAILED",data:t})}))}));var a},getGif:function(t){return e((a=t,function(e,t){var n=new Request("".concat(v+"gifs","/").concat(a),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});fetch(n).then((function(t){t.json().then((function(t){"error"===t.status?e({type:"GET_GIF_FAILED",data:t}):e({type:"GET_GIF_SUCCESS",data:t})})).catch((function(t){e({type:"GET_GIF_FAILED",data:t})}))})).catch((function(t){e({type:"GET_GIF_FAILED",data:t})}))}));var a},commentPost:function(t,a){return e(x(t,a))}}}))(M),q=(a(51),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={title:"",article:"",isVisible:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.createArticle(a.state),a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3),a.props.history.push("/dashboard/")},a.handleTextChange=function(e){a.setState(Object(p.a)({},e.target.id,e.target.value))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.props.auth.token?i.a.createElement("div",{className:"feed-container"},i.a.createElement(y,{isVisible:this.state.isVisible,notification:this.props.notification}),i.a.createElement("div",{className:""},i.a.createElement("h5",null,"Post an article"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Title:"),i.a.createElement("input",{type:"text",className:"form-input",id:"title",placeholder:"Hello World...",value:this.state.title,onChange:this.handleTextChange,autoFocus:!0,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Content:"),i.a.createElement("textarea",{className:"form-input",id:"article",value:this.state.article,onChange:this.handleTextChange,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("button",{type:"submit",className:"btn btn-primary float-md-right"},"Post article"))))))):i.a.createElement(o.a,{to:"/dashboard/"})}}]),t}(n.Component)),B=Object(l.b)((function(e){return{notification:e.article.notification,auth:e.auth.auth}}),(function(e){return{createArticle:function(t){return e((a=t,function(e,t){var n=new Request("".concat(v+"articles","/"),{method:"POST",body:JSON.stringify({title:a.title,article:a.article}),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});fetch(n).then((function(t){t.json().then((function(t){"error"===t.status?e({type:"CREATE_ARTICLE_FAILED",data:t}):e({type:"CREATE_ARTICLE_SUCCESS",data:t})})).catch((function(t){e({type:"CREATE_ARTICLE_FAILED",data:t})}))})).catch((function(t){e({type:"CREATE_ARTICLE_FAILED",data:t})}))}));var a}}}))(q),z=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={title:"",imageFile:"",isVisible:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.createGif(a.state),a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3),a.setState({title:"",imageFile:""}),a.props.history.push("/dashboard/")},a.handleTextChange=function(e){a.setState(Object(p.a)({},e.target.id,e.target.value))},a.handleImageChange=function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(e){a.setState({imageFile:e.target.result})}},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.props.auth.token?i.a.createElement("div",{className:"feed-container"},i.a.createElement(y,{isVisible:this.state.isVisible,notification:this.props.notification}),i.a.createElement("div",{className:""},i.a.createElement("h5",null,"Post a Gif"),i.a.createElement("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data"},i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Title:"),i.a.createElement("input",{type:"text",className:"form-input",id:"title",placeholder:"Hello World...",value:this.state.title,onChange:this.handleTextChange,autoFocus:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Image:"),i.a.createElement("input",{id:"imageFile",type:"file",onChange:this.handleImageChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("button",{type:"submit",className:"btn btn-primary float-md-right"},"Post article"))))))):i.a.createElement(o.a,{to:"/dashboard/"})}}]),t}(n.Component),J=Object(l.b)((function(e){return{notification:e.gif.notification,auth:e.auth.auth}}),(function(e){return{createGif:function(t){return e((a=t,function(e,t){var n=new Request("".concat(v+"gifs"),{method:"POST",body:JSON.stringify({title:a.title,image:a.imageFile}),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});fetch(n).then((function(t){t.json().then((function(t){"error"===t.status?e({type:"CREATE_GIF_FAILED",data:t}):e({type:"CREATE_GIF_SUCCESS",data:t})})).catch((function(t){e({type:"CREATE_GIF_FAILED",data:t})}))})).catch((function(t){e({type:"CREATE_GIF_FAILED",data:t})}))}));var a}}}))(z),W=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).state={isVisible:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.editArticle(a.props.id,{title:a.state.title,article:a.state.article}),a.setState({isVisible:!a.state.isVisible}),setTimeout((function(){a.setState({isVisible:!a.state.isVisible})}),3e3),a.props.history.push("/dashboard/")},a.handleTextChange=function(e){a.setState(Object(p.a)({},e.target.id,e.target.value))},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getArticle(this.props.id),setTimeout((function(){e.setState({title:e.props.post.title,article:e.props.post.article})}),200)}},{key:"render",value:function(){return this.props.auth.token?i.a.createElement("div",{className:"feed-container"},i.a.createElement(y,{isVisible:this.state.isVisible,notification:this.props.notification}),i.a.createElement("div",{className:""},i.a.createElement("h5",null,"Edit an article"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Title:"),i.a.createElement("input",{type:"text",className:"form-input",id:"title",placeholder:"Hello World...",value:this.state.title,onChange:this.handleTextChange,autoFocus:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Content:"),i.a.createElement("textarea",{className:"form-input",id:"article",value:this.state.article,onChange:this.handleTextChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("button",{type:"submit",className:"btn btn-primary float-md-right"},"Edit article"))))))):i.a.createElement(o.a,{to:"/dashboard/"})}}]),t}(n.Component),Y=Object(l.b)((function(e,t){var a=e.article.post;return{notification:e.article.notification,auth:e.auth.auth,id:t.match.params.id,post:a}}),(function(e){return{editArticle:function(t,a){return e(function(e,t){return function(a,n){var i=new Request("".concat(v+"articles","/").concat(e),{method:"PATCH",body:JSON.stringify({title:t.title,article:t.article}),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))})});console.log(e,t),fetch(i).then((function(e){e.json().then((function(e){"error"===e.status?a({type:"EDIT_ARTICLE_FAILED",data:e}):a({type:"EDIT_ARTICLE_SUCCESS",data:e})})).catch((function(e){a({type:"EDIT_ARTICLE_FAILED",data:e})}))})).catch((function(e){a({type:"EDIT_ARTICLE_FAILED",data:e})}))}}(t,a))},getArticle:function(t){return e(L(t))}}}))(W),K=Object(l.b)((function(e){return{auth:e.auth.auth}}))((function(e){return e.auth.token?i.a.createElement("div",null,i.a.createElement("div",{className:"container"},i.a.createElement("div",{style:{display:"",marginTop:"50px",marginBottom:"50px"}},i.a.createElement("div",{className:"row dash-row"},i.a.createElement("div",{className:"col-xs-12 col-sm-1"}),i.a.createElement("div",{className:"col-xs-12 col-sm-10"},i.a.createElement(_,null),i.a.createElement("div",{className:"dashboard-display"},i.a.createElement(o.b,{exact:!0,path:"/dashboard/",component:G}),i.a.createElement(o.b,{exact:!0,path:"/dashboard/article/:id",component:U}),i.a.createElement(o.b,{path:"/dashboard/gif/:id",component:H}),i.a.createElement(o.b,{path:"/dashboard/post-article",component:B}),i.a.createElement(o.b,{path:"/dashboard/post-gif",component:J}),i.a.createElement(o.b,{path:"/dashboard/article/edit/:id",component:Y}))),i.a.createElement("div",{className:"col-xs-12 col-sm-1"})))),i.a.createElement(I,null)):i.a.createElement(o.a,{to:"/login"})})),$=(a(52),function(){return i.a.createElement(o.a,{to:"/login"})});var Q=function(){return i.a.createElement("div",{className:""},i.a.createElement(c.a,{basename:"DevC_Capstone_Project_Frontend"},i.a.createElement(u,null),i.a.createElement("div",{style:{marginTop:"2rem"}},i.a.createElement(o.d,null,i.a.createElement(o.b,{exact:!0,path:"/",component:$}),i.a.createElement(o.b,{path:"/dashboard",component:K}),i.a.createElement(o.b,{path:"/login",component:N}),i.a.createElement(o.b,{path:"/signup",component:S})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(34),Z=a(19);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae=localStorage.getItem("userToken"),ne={notification:{status:null,message:null},authError:null,auth:ae?{userId:localStorage.getItem("userId"),token:ae}:{userId:null,token:null}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FAILED":return te({},e,{authError:t.data.message,notification:t.data});case"LOGIN_SUCCESS":return te({},e,{auth:t.data.data,authError:null,notification:t.data});case"SIGNOUT_SUCCESS":return localStorage.removeItem("userToken"),localStorage.removeItem("userId"),te({},e,{authError:null,auth:{userId:null,token:null}});case"SIGNUP_SUCCESS":return console.log("Signup succesful"),te({},e,{auth:null,authError:null,notification:t.data});case"SIGNUP_FAILED":return console.log("Signup unsuccessful"),te({},e,{authError:t.data.message,notification:t.data});default:return e}};function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe={posts:[]},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FEED_FAILED":return se({},e);case"GET_FEED_SUCCESS":return se({},e,{posts:t.data.data});default:return e}};function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ue={notification:{status:null,message:null},post:{comments:[]}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_GIF_SUCCESS":case"DELETE_GIF_FAILED":return me({},e,{notification:{status:t.data.status,message:t.data.data.message}});case"GET_GIF_FAILED":return me({},e);case"GET_GIF_SUCCESS":return me({},e,{post:t.data.data});case"COMMENT_GIF_FAILED":return me({},e,{notification:{status:"error",message:"Comment on post failed"}});case"COMMENT_GIF_SUCCESS":return me({},e,{notification:{status:"success",message:"You have commented on this post"}});default:return e}};function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee={notification:{status:null,message:null},post:{comments:[]}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_ARTICLE_FAILED":case"EDIT_ARTICLE_SUCCESS":case"CREATE_ARTICLE_FAILED":case"DELETE_ARTICLE_SUCCESS":case"DELETE_ARTICLE_FAILED":case"CREATE_ARTICLE_SUCCESS":return he({},e,{notification:{status:t.data.status,message:t.data.data.message}});case"GET_ARTICLE_FAILED":return he({},e);case"GET_ARTICLE_SUCCESS":return he({},e,{post:t.data.data});case"COMMENT_ARTICLE_FAILED":return he({},e,{notification:{status:"error",message:"Comment on post failed"}});case"COMMENT_ARTICLE_SUCCESS":return he({},e,{notification:{status:"success",message:"You have commented on this post"}});default:return e}},be=Object(Z.c)({auth:ie,feed:ce,gif:de,article:fe}),ge=Object(Z.d)(be,Object(Z.a)(X.a));s.a.render(i.a.createElement(l.a,{store:ge},i.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.da19c55a.chunk.js.map